// Released under MIT License
// http://plugins.adchsm.me/slidebars/license.txt
//
// ---------------------
// Index of Slidebars.js
//
// 001 - Default Settings
// 002 - Feature Detection
// 003 - User Agents
// 004 - Setup
// 005 - Animation
// 006 - Operations
// 007 - API
// 008 - User Input
$(document).ready(function(){$.slidebars=function(s){function t(){!r.disableOver||"number"==typeof r.disableOver&&r.disableOver>=y?(w=!0,$("html").addClass("sb-init"),r.hideControlClasses&&T.removeClass("sb-hide"),e()):"number"==typeof r.disableOver&&r.disableOver<y&&(w=!1,$("html").removeClass("sb-init"),r.hideControlClasses&&T.addClass("sb-hide"),(m||p)&&a())}function e(){v.css("minHeight",""),v.css("minHeight",$("body").height()+"px"),g&&(g.hasClass("sb-style-push")||g.hasClass("sb-style-overlay"))&&g.css("marginLeft","-"+g.css("width")),C&&(C.hasClass("sb-style-push")||C.hasClass("sb-style-overlay"))&&C.css("marginRight","-"+C.css("width")),g&&g.hasClass("sb-width-custom")&&g.css("width",g.attr("data-sb-width")),C&&C.hasClass("sb-width-custom")&&C.css("width",C.attr("data-sb-width")),r.siteLock&&$("html").addClass("sb-lock")}function i(s,t,i){var n;if(n=s.hasClass("sb-style-push")?v.add(s).add(k):s.hasClass("sb-style-overlay")?s:v.add(k),"translate"===O)n.css("transform","translate("+t+")");else if("side"===O)"-"===t[0]&&(t=t.substr(1)),n.css(i,t),setTimeout(function(){"0px"===t&&(n.removeAttr("style"),e())},400);else if("jQuery"===O){"-"===t[0]&&(t=t.substr(1));var a={};a[i]=t,n.stop().animate(a,400),setTimeout(function(){"0px"===t&&(n.removeAttr("style"),e())},400)}}function n(s){function t(){w&&"left"===s&&g?($("html").addClass("sb-active sb-active-left"),g.addClass("sb-active"),i(g,g.css("width"),"left"),setTimeout(function(){m=!0},400)):w&&"right"===s&&C&&($("html").addClass("sb-active sb-active-right"),C.addClass("sb-active"),i(C,"-"+C.css("width"),"right"),setTimeout(function(){p=!0},400))}"left"===s&&g&&p||"right"===s&&C&&m?(a(),setTimeout(t,400)):t()}function a(s){(m||p)&&(m&&(i(g,"0px","left"),m=!1),p&&(i(C,"0px","right"),p=!1),setTimeout(function(){$("html").removeClass("sb-active sb-active-left sb-active-right"),g&&g.removeClass("sb-active"),C&&C.removeClass("sb-active"),s&&(window.location=s)},400))}function o(s){"left"===s&&g&&(m?a():n("left")),"right"===s&&C&&(p?a():n("right"))}function l(s,t){s.stopPropagation(),s.preventDefault(),"touchend"===s.type&&t.off("click")}var r=$.extend({siteClose:!0,siteLock:!1,disableOver:!1,hideControlClasses:!1},s),c=document.createElement("div").style,h=!1,d=!1;""!==c.MozTransition&&""!==c.WebkitTransition&&""!==c.OTransition&&""!==c.transition||(h=!0),""!==c.MozTransform&&""!==c.WebkitTransform&&""!==c.OTransform&&""!==c.transform||(d=!0);var b=navigator.userAgent,f=!1,u=!1;/Android/.test(b)?f=b.substr(b.indexOf("Android")+8,3):/(iPhone|iPod|iPad)/.test(b)&&(u=b.substr(b.indexOf("OS ")+3,3).replace("_",".")),(f&&f<3||u&&u<5)&&$("html").addClass("sb-static");var v=$("#sb-site, .sb-site");if($(".sb-left").length)var g=$(".sb-left"),m=!1;if($(".sb-right").length)var C=$(".sb-right"),p=!1;var w=!1,y=$(window).width(),T=$(".sb-toggle-left, .sb-toggle-right, .sb-open-left, .sb-open-right, .sb-close"),k=$(".sb-slide");t(),$(window).resize(function(){var s=$(window).width();w&&y!==s&&(y=s,t(),e(),m&&n("left"),p&&n("right"))});var O;h&&d?(O="translate",f&&f<4.4&&(O="side")):O="jQuery",this.open=n,this.close=a,this.toggle=o,this.init=function(){return w},this.active=function(s){return"left"===s&&g?m:"right"===s&&C?p:void 0},$(".sb-toggle-left").on("touchend click",function(s){l(s,$(this)),o("left")}),$(".sb-toggle-right").on("touchend click",function(s){l(s,$(this)),o("right")}),$(".sb-open-left").on("touchend click",function(s){l(s,$(this)),n("left")}),$(".sb-open-right").on("touchend click",function(s){l(s,$(this)),n("right")}),$(".sb-close").on("touchend click",function(s){l(s,$(this)),a()})}});